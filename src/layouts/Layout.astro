---
import "../styles/global.css";

import { ui } from "../i18n/ui.js";

const locale = (Astro.locals.lang as "en" | "fr") ?? "en";
const { title } = Astro.props;

interface Props {
    title?: string;
}
---

<!doctype html>
<html lang={locale} data-theme="light" class="h-full">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>{title || "SVG Generator"}</title>
    </head>
    <body class="h-full">
        <div class="h-full flex flex-col min-h-0">
            <header class="navbar bg-base-200">
                <div class="navbar-start">
                    <a href="/" class="btn btn-ghost text-xl"
                        >{ui[locale].nav.home}</a
                    >
                </div>
                <div class="navbar-center">
                    <div class="menu menu-horizontal px-1">
                        <a href="/" class="btn btn-ghost"
                            >{ui[locale].nav.home}</a
                        >
                        <a href="/generator" class="btn btn-ghost"
                            >{ui[locale].nav.generator}</a
                        >
                        <a href="/gallery" class="btn btn-ghost"
                            >{ui[locale].nav.gallery}</a
                        >
                    </div>
                </div>
                <div class="navbar-end">
                    <form method="POST" action={Astro.url.pathname}>
                        <select
                            name="language"
                            class="select select-bordered"
                            onchange="this.form.submit()"
                        >
                            <option disabled selected="true"
                                >{ui[locale].nav.language}</option
                            >
                            <option value="en" selected={locale === "en"}
                                >English</option
                            >
                            <option value="fr" selected={locale === "fr"}
                                >Fran√ßais</option
                            >
                        </select>
                    </form>
                </div>
                       <form method="POST" action="/signup" class="m-1 p-1 ml-6">
                    <button type="submit" class="btn btn-primary"
                        >Sign Up</button
                    >
                </form>
                <form method="POST" action="/api/logout" class="m-0 p-0 ml-4">
                    <button type="submit" class="btn btn-primary">Logout</button
                    >
                </form>

        
                </form>
            </header>
            <div class="flex-1 min-h-0">
                <slot />
            </div>
        </div>
    </body>
</html>
